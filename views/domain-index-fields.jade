extends domain

block domain-content
  h2 Index Fields
  if indexFields.length > 0
    table.table.table-bordered
      tr
        th Name
        th Type
        th Facet
        th Result
        th Operation
      for indexField in indexFields
        tr
          th= indexField.Options.IndexFieldName
          td= indexField.Options.IndexFieldType
          case indexField.Options.IndexFieldType
            when 'text'
              td= indexField.Options.TextOptions.FacetEnabled
              td= indexField.Options.TextOptions.ResultEnabled
            when 'literal'
              td= indexField.Options.LiteralOptions.FacetEnabled
              td= indexField.Options.LiteralOptions.ResultEnabled
            default
              td
              td
          td
            form(action="/domain/"+domain.DomainName+"/index_fields/"+indexField.Options.IndexFieldName, method="POST").modal-form
              input(type="hidden", name="_method", value="DELETE")
              button(type="submit").btn.btn-danger
                i.icon-trash.icon-white
                |  Delete
                // TODO confirmation
  else
    .alert.alert-warn No IndexField is defined

  .well
    form(action="/domain/"+domain.DomainName+"/index_fields", method="POST").form-horizontal
      legend Create an index field
      .control-group
        label.control-label Name
        .controls
          input(type="text", name="name")
      .control-group
        label.control-label Type
        .controls
          select(type="text", name="type")
            option(value="text") text
            option(value="literal") literal
            option(value="uint") uint
      .control-group
        .controls
          button.btn(type="submit").btn-primary Create
